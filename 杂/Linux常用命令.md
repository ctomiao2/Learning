﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿**nohup**: Xshell连接服务器执行程序前加nohup可以避免断开连接程序被杀掉问题**top**: 查看进程**ps -u 用户名**: 查看用户的所有进程**pwd**: 显示当前目录**lls**：列出当前目录所有文件**xshell sftp使用**：		1）get：从远程服务器上下载一个文件存放到本地	>> lcd d:\            #表示切换到本地的d盘下	>> get ./test.sql　　 #这样就将当前文件下载本地的d盘下	2）put：将本地的文件上传到远程服务器上	>> put               #在windows下弹出选择文件的窗口		3）lcd：先通过lcd切换到本地那个目录下	>> lcd c:\            #表示切换到本地的c盘下**netstat -tulpn:** 查看本地服务器端口映射**grep -nr pattern * **：查询当前目录下包含pattern的所有文件并显示行号**gzip -dc myfile.gz | grep abc**：grep gz文件**sudo find /etc -name sources.list**: 查找/etc目录下的source.list文件**find / -type d -name 'httpdocs'**： 查找文件夹名是httpdocs的，/表示根目录，.表示当前目录**压缩\解压命令大全：**- gzip [Options] file1 file2 file3：	`-c //将输出写至标准输出，并保持原文件不变`		`-d //进行解压操作`	`-v //输出压缩/解压的文件名和压缩比等信息`eg:     gzip exp1.txt exp2.txt　　　　 //分别将exp1.txt和exp2.txt压缩，且不保留原文件, 若要保留需加-c并结合>定向到目标文件    gzip -dv exp1.gz　　　　　　 //将exp1.gz解压，并显示压缩比等信息。	gzip -cd exp1.gz > exp.1　　  //将exp1.gz解压的结果放置在文件exp.1中，并且原压缩文件exp1.gz不会消失- tar [Options] file_archive　　//注意tar的第一参数必须为命令选项，即不能直接接待处理文件，可以将多个文件打包到一个压缩包常用命令参数：	//指定tar进行的操作，以下三个选项不能出现在同一条命令中	-c　　　　　　　　//创建一个新的打包文件(archive)		-x　　　　　　　　//对打包文件(archive)进行解压操作	-t　　　　　　　　//查看打包文件(archive)的内容,主要是构成打包文件(archive)的文件名	//指定支持的压缩/解压方式，操作取决于前面的参数，若为创建(-c),则进行压缩，若为解压(-x),则进行解压，不加下列参数时，则为单纯的打包操作	-z　　　　　　　　//使用gzip进行压缩/解压，一般使用.tar.gz后缀	-j　　　　　　　　//使用bzip2进行压缩/解压，一般使用.tar.bz2后缀	//指定tar指令使用的文件，若没有压缩操作，则以.tar作为后缀	-f filename　　 //-f后面接操作使用的文件，用空格隔开，且中间不能有其他参数，推荐放在参数集最后或单独作为参数	//其他辅助选项	-v　　　　　　　　//详细显示正在处理的文件名	-p(小写)　　　　 //保留文件的权限和属性，在备份文件时较有用	-P(大写)　　　　 //保留原文件的绝对路径，即不会拿掉文件路径开始的根目录，则在还原时会覆盖对应路径上的内容	--exclude=file //排除不进行打包的文件eg: 	tar xvzf mongodb-linux-x86_64-2.4.6.tgz  /解压gzip文件	tar -xvjf　etc.tar.bz2　//解压bzip2文件	tar -cvjf etc.tar.bz2 /etc　　//-c为创建一个打包文件，相应的-f后面接创建的文件的名称，使用了.tar.bz2后缀，-j标志使用bzip2压缩，最后面为具体的操作对象/etc目录- unzip [Options] file[.zip]eg: `unzip aaa.zip `**du -sh *: ** 查看目录空间**dpkg -s package_name：** 检查package是否install**shell脚本将命令返回值传递给变量：**	var=`command` 或者 var=$(command)， eg: 	ret=$(dpkg -s jq | grep "install ok installed")	echo $ret**sed：** 文本替换， sed '/s1/s2', eg: echo "aa" | sed 's/\"//g'** vi常用命令：**	80gg：跳到80行	// 查看vim是否支持剪贴板	vim --version | grep "clipboard"	// clipboard前面出现-号就说明不支持, 安装图形版, 安装后再输入上个命令发现clipboard前面是+了	sudo apt-get install vim-gnome	"+y 将内容复制到特定的剪切板	"+p 将系统剪切板的内容拷贝到vim	"zi 打开关闭折叠	"zv 查看此行	zm 关闭折叠	zM 关闭所有	zr 打开	zR 打开所有	zc 折叠当前行	zo 打开当前折叠	zd 删除折叠	zD 删除所有折叠	**sudo apt-get update**： 更新源, 当apt-get install出现404错误时用这个命令更新**svn status --no-ignore**: svn change list查看**tcpdump**: 查看tcp分组**set ff=unix**：用vim打开，输入:set ff=unix将文件转换为unix格式**网卡流量相关：****sar -n DEV 1 2**命令后面1 2 意思是：每一秒钟取1次值，取2次。DEV显示网络接口信息另外，-n参数很有用，他有6个不同的开关：DEV | EDEV | NFS | NFSD | SOCK | ALL ，其代表的含义如下：DEV显示网络接口信息。EDEV显示关于网络错误的统计数据。NFS统计活动的NFS客户端的信息。NFSD统计NFS服务器的信息SOCK显示套接字信息ALL显示所有5个开关。	[sre@CDVM-213017031 ~]$ sar -n DEV 1 2	Linux 2.6.32-431.el6.x86_64 (CDVM-213017031)    05/04/2017  _x86_64_    (4 CPU)		08:05:30 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s	08:05:31 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00	08:05:31 PM      eth0   1788.00   1923.00    930.47    335.60      0.00      0.00      0.00		08:05:31 PM     IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s	08:05:32 PM        lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00	08:05:32 PM      eth0   1387.00   1469.00    652.12    256.98      0.00      0.00      0.00		Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s	Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00	Average:         eth0   1587.50   1696.00    791.29    296.29      0.00      0.00      0.00参数说明：- IFACE：LAN接口- rxpck/s：每秒钟接收的数据包- txpck/s：每秒钟发送的数据包- rxbyt/s：每秒钟接收的字节数- txbyt/s：每秒钟发送的字节数- rxcmp/s：每秒钟接收的压缩数据包- txcmp/s：每秒钟发送的压缩数据包- rxmcst/s：每秒钟接收的多播数据包- rxerr/s：每秒钟接收的坏数据包- txerr/s：每秒钟发送的坏数据包- coll/s：每秒冲突数- rxdrop/s：因为缓冲充满，每秒钟丢弃的已接收数据包数- txdrop/s：因为缓冲充满，每秒钟丢弃的已发送数据包数- txcarr/s：发送数据包时，每秒载波错误数- rxfram/s：每秒接收数据包的帧对齐错误数- rxfifo/s：接收的数据包每秒FIFO过速的错误数- txfifo/s：发送的数据包每秒FIFO过速的错误数<br>**cat /proc/net/dev**	$ cat /proc/net/dev	Inter-|   Receive                                                |  Transmit	 face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed	    lo:137052296  108029    0    0    0     0          0         0 137052296  108029    0    0    0     0       0          0	  eth0:13661574714188 31346790620    0    0    0     0          0         0 5097461049535 27671144304    0    0    0     0       0          0	  	  最左边的表示接口的名字，Receive表示收包，Transmit表示发送包；	  bytes表示收发的字节数；	  packets表示收发正确的包量；	  errs表示收发错误的包量；	  drop表示收发丢弃的包量；**使用watch命令**: 配合ifconfig、more /proc/net/dev、cat /proc/net/dev来实时监控。比如执行 watch -n 1 "ifconfig eth0"	**添加.git文件夹A的正确姿势：**	删除 A/ 的.git 文件夹	在 ./ 下输入”git rm -r --cached A/“ //谨记：是 A/ ，意为A目录下	在 ./ 下输入”git add A”**tc网络模拟：**		// 添加delay发包规则 	tc qdisc add dev eth0 root netem delay 200ms	// 列出当前规则	tc -s qdisc ls dev eth0	// 删除全部规则	tc qdisc del dev eth0 root	// 对指定端口模拟	sudo tc qdisc add dev eth0 root handle 1: prio priomap 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0	sudo tc qdisc add dev eth0 parent 1:2 handle 20: netem delay 3000ms	// 对端口7000模拟	sudo tc filter add dev eth0 parent 1:0 protocol ip u32 match ip sport 7000 0xffff flowid 1:2**dmesg -T:** 显示linux内核的环形缓冲区信息，我们可以从中获得诸如系统架构、cpu、挂载的硬件，RAM等多个运行级别的大量的系统信息**lsof：**  列出打开的文件，lsof -c mysql列出被mysql打开的所有文件，lsof /sys/a.txt列出所有打开该文件的进程**流量监控：**   - sudo iptables -A INPUT -p tcp --dport 7000 监控7000端口接收tcp流量(dest port)   - sudo iptables -A OUTPUT -p tcp --sport 7000 监控7000端口发送tcp流量(src port)   - sudo iptables -L -v -n -x 输出监控信息   - sudo iptables -D INPUT -p tcp --dport 7000 移除接收端口监控   - sudo iptables -D OUTPUT -p tcp --sport 7000 移除发送端口监控   - sudo iptables -Z INPUT 重置接收端口流量   - sudo iptables -Z OUTPUT 重置发送端口流量